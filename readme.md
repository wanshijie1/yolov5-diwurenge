# ðŸ“Œ æ•ˆæžœå±•ç¤º
## å‡†ç¡®çŽ‡
![alt text](runs/train/exp3/F1_curve.png)
![alt text](runs/train/exp3/labels.jpg)
![alt text](runs/train/exp3/PR_curve.png)
## æ•ˆæžœ
![alt text](runs/train/exp3/val_batch0_pred.jpg)
![alt text](runs/train/exp3/val_batch1_labels.jpg)
![alt text](runs/train/exp3/val_batch2_labels.jpg)

# ðŸ“Œ YOLOv5 ç›®æ ‡æ£€æµ‹å®Œæ•´æµç¨‹

---

## **ç¬¬ä¸€æ­¥ ðŸŽ¥ OBS å½•åˆ¶è§†é¢‘**
ä½¿ç”¨ OBS è¿›è¡Œå±å¹•å½•åˆ¶ï¼Œç”Ÿæˆè§†é¢‘æ•°æ®ã€‚

---

## **ç¬¬äºŒæ­¥ âœ‚ï¸ Python è„šæœ¬åˆ‡ç‰‡**
ä½¿ç”¨ `ffmpeg` è¿›è¡Œè§†é¢‘åˆ‡ç‰‡ï¼š
```bash
ffmpeg -i input.mp4 -ss 00:00:00 -t 00:00:10 output.mp4
```

---

## **ç¬¬ä¸‰æ­¥ ðŸ·ï¸ LabelImg æ¡†é€‰**
å®‰è£… `labelImg` å¹¶è¿›è¡Œæ ‡æ³¨ï¼š
```bash
pip install labelImg
labelImg
```

---

## **ç¬¬å››æ­¥ ðŸ—ï¸ åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†**
å¯ä»¥æ‰‹åŠ¨åˆ’åˆ†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `split.py` è„šæœ¬è‡ªåŠ¨åˆ’åˆ†ï¼š
è¿™é‡Œä½¿ç”¨pythonè„šæœ¬è¿›è¡Œåˆ’åˆ†ï¼š
è¿è¡Œ `split.py`ï¼š


## **ç¬¬äº”æ­¥ âš™ï¸ é…ç½® YOLOv5**
å…‹éš† YOLOv5 ä»“åº“å¹¶å®‰è£…ä¾èµ–ï¼š
```bash
git clone https://github.com/ultralytics/yolov5.git
cd yolov5
pip install -r requirements.txt
```
åˆ›å»º `dataset.yaml`ï¼š
```yaml
train: ./train/images
val: ./val/images
nc: 6
names: ['class1', 'class2', 'class3', 'class4', 'class5', 'class6']
```

---

## **ðŸ”¥ å¼€å§‹è®­ç»ƒ**
è¿™é‡Œä½¿ç”¨çš„æ˜¯50è½®è®­ç»ƒï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´è®­ç»ƒè½®æ•°ã€‚
cdåˆ° `yolov5` ç›®å½•ï¼Œè¿è¡Œè®­ç»ƒå‘½ä»¤ï¼š
è¿è¡Œè®­ç»ƒå‘½ä»¤ï¼š
```bash
python train.py --img 640 --batch 16 --epochs 50 --data data.yaml --weights yolov5s.pt
```
ðŸ“Œ **å‚æ•°è¯´æ˜Ž**ï¼š
- `--img 640`ï¼šè¾“å…¥å›¾ç‰‡å¤§å°
- `--batch 16`ï¼šæ‰¹é‡å¤§å°
- `--epochs 50`ï¼šè®­ç»ƒè½®æ•°
- `--data dataset.yaml`ï¼šæ•°æ®é›†é…ç½®æ–‡ä»¶
- `--weights yolov5s.pt`ï¼šé¢„è®­ç»ƒæ¨¡åž‹æƒé‡
å‚æ•°å¯ä»¥è‡ªåŠ¨è°ƒæ•´ï¼Œæ ¹æ®éœ€è¦è°ƒæ•´è®­ç»ƒè½®æ•°ã€‚

---

## **ðŸ“Š è®­ç»ƒç»“æžœ**
è®­ç»ƒå®ŒæˆåŽï¼Œç»“æžœå­˜æ”¾åœ¨ `runs/train/exp` ç›®å½•ï¼š
```plaintext
weights/               # æœ€ç»ˆæ¨¡åž‹æƒé‡
â”œâ”€â”€ last.pt            # è®­ç»ƒæœ€åŽä¸€æ¬¡çš„æ¨¡åž‹
â”œâ”€â”€ best.pt            # è®­ç»ƒæ•ˆæžœæœ€å¥½çš„æ¨¡åž‹
results.png            # è®­ç»ƒæ›²çº¿å¯è§†åŒ–
labels_correlogram.jpg # è®­ç»ƒé›†ä¸­ç±»åˆ«åˆ†å¸ƒçƒ­åŠ›å›¾
F1_curve.png           # F1 æŒ‡æ ‡æ›²çº¿
PR_curve.png           # ç²¾ç¡®çŽ‡-å¬å›žçŽ‡æ›²çº¿
```

---

## **ðŸš€ ç¬¬å…­æ­¥ æµ‹è¯•**
ä½¿ç”¨æœ€ä½³æ¨¡åž‹æµ‹è¯•ï¼š
```bash
python detect.py --weights runs/train/exp/weights/best.pt --source "D:/text.mkv" --device cpu
```

ðŸ“Œ **å‚æ•°è¯´æ˜Ž**ï¼š
- `--weights`ï¼šæŒ‡å®šè®­ç»ƒå¥½çš„æ¨¡åž‹ (`best.pt`)
- `--source`ï¼šè¾“å…¥æ–‡ä»¶è·¯å¾„ï¼ˆå¯ä»¥æ˜¯å›¾ç‰‡/è§†é¢‘ï¼‰
- `--device`ï¼šé€‰æ‹©è¿è¡Œè®¾å¤‡ï¼ˆ`cpu` æˆ– `cuda`ï¼‰
- `--conf-thres 0.3`ï¼šç½®ä¿¡åº¦é˜ˆå€¼
- `--iou-thres 0.5`ï¼šIoU é˜ˆå€¼

---

## **ðŸ“Œ è¿è¡Œç»“æžœ**
æ£€æµ‹ç»“æžœä¼šä¿å­˜åœ¨ `runs/detect/exp/` ç›®å½•ä¸‹ã€‚

**ðŸŽ¯ ä½ å¯ä»¥åœ¨ `runs/detect/exp/` ä¸­æŸ¥çœ‹å¸¦æœ‰ç›®æ ‡æ£€æµ‹æ¡†çš„è¾“å‡ºè§†é¢‘ï¼**


---

## **ðŸŽ‰ å®Œç»“ï¼**
å¸Œæœ›è¿™ä¸ªæµç¨‹èƒ½å¸®åŠ©ä½ æˆåŠŸè®­ç»ƒè‡ªå·±çš„ YOLOv5 æ¨¡åž‹ï¼

> é‡åˆ°çš„é—®é¢˜

>ðŸ“Œ 1. é¦–å…ˆåœ¨ç¬¬ä¸€æ¬¡å¯¹å›¾ç‰‡è¿›è¡Œè®­ç»ƒçš„æ—¶å€™ï¼Œä¸€ç›´æŠ¥é”™ï¼ŒåŽé¢å‘çŽ°ç›®æ ‡å›¾ç‰‡è·¯å¾„ä¸èƒ½åŒ…å«ä¸­æ–‡                  
>ðŸ“Œ 2. å…¶æ¬¡ï¼Œæ¨¡åž‹æž„å»ºå®ŒæˆåŽå‘çŽ°ç”Ÿæˆçš„ç²¾ç¡®åº¦å’Œå¬å›žçŽ‡å›¾ç‰‡ä¸­ä¸­æ–‡å‡ä¹±ç ï¼Œæ˜¾ç¤ºæ–¹æ¡†ã€‚è¿™é‡Œé€‰æ‹©ä½¿ç”¨SimHei.ttfå­—ä½“ï¼›å¹¶ä¸”é‡æž„äº†ç»˜åˆ¶å›¾åƒçš„ç›®æ ‡å‡½æ•°ï¼Œä½¿å…¶å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡ã€‚
```plaintext
yolov5
â”œâ”€â”€ detect.py # ä¿®æ”¹äº†éƒ¨åˆ†å‡½æ•°ï¼Œä½¿å…¶å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡
â”œâ”€â”€ utils
â”‚   â”œâ”€â”€ metrics.py  # è´Ÿè´£ç»˜åˆ¶ç²¾ç¡®åº¦å’Œå¬å›žçŽ‡æ›²çº¿
â”‚   â”œâ”€â”€ metrics_py.bak  # å¤‡ä»½æ–‡ä»¶
â”‚   â”œâ”€â”€ custom_annotator.py # æ–°åˆ›å»ºçš„è§†å±å¤„ç†ç¨‹åºï¼Œè¿™é‡Œé‡‡ç”¨äº†äº†å¦ä¸€ç§æ–¹æ³•
```


>ðŸ“Œ 3. å†è€…ï¼Œæµ‹è¯•çš„æ—¶å€™å‘çŽ°ï¼Œå¤„ç†çš„ç›®æ ‡è§†å±ä¸­ï¼Œä¸­æ–‡æ ‡ç­¾æ˜¾ç¤ºç¹ä½“ä¹±ç ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨SimHei.ttfå­—ä½“ï¼Œå¹¶ä¸”é‡æž„äº†ç»˜åˆ¶æ ‡ç­¾éƒ¨åˆ†çš„ä¸ªåˆ«ç›®æ ‡å‡½æ•°ï¼Œä½¿å…¶å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡ã€‚

> ä¸Šè¿°æœ€å¥½çš„æ¨¡åž‹ï¼šruns/train/exp3/weights/best.pt
